# CleverFIT

Фитнес приложение, выполнено в 7 спринтов с контролем выполненного функционала через скриншотное тестирование Cypress (***в ветке каждого спринта можно запустить тестирование CYPRESS командой*** `yarn cy:e2e` )

---
### !!!ВНИМАНИЕ!!! 
**на сервере не настроен должным образом CORS - для использования приложения стоит открыть браузер с отключенным CORS.**

Для Windows: комбинация клавиш Win +R -> вводим: 
`chrome.exe --user-data-dir="C://Chrome dev session" --disable-web-security`
---
**Логин и пароль с аккаунтом в котором уже созданы некоторые тренировки:**

|  login       |  `123ee@gmail.com` |
| ------------ | ------------------------|
|  password   | `ddd333DDD`        |

---

#### Функционал:
1) **Главная страница** (branch sprint-1).
- c главной страницы осуществляется переход на страницы:
  - настроек (в header)
  - отзывов (в footer)
  - календарь (через sidebar и карточку в main)
  - тренировки (через sidebar и карточку в main)
  - достижения (через sidebar)
  - профиль (через sidebar и карточку в main)

2) **Регистрация, авторизация, восстановление пароля** (branch - sprint-2)
 - JWT Token 
 - OAuth через Google аккаунт
 - Результирующие страницы отображающие ошибку запроса, либо успех, начинаются с относительного url: `/result`  переход на эти страницы по прямой ссылке невозможен, при попытке перехода по прямой ссылке происходит редирект на страницу авторизации, на эти страницы можно попасть только по результатам запросов на сервер.
 - если пользователь уже авторизован, то происходит редирект на главную страницу
 - для начала восстановления пароля должна быть пройдена валидация ввода e-mail

3) **Просмотр и добавление отзывов на приложение** (branch sprint-3) https://cleverfit-app.netlify.app/feedbacks  
    в случае успешности.неуспешности запроса о создании отзыва отображается модальное окно.

4) **Календарь тренировок** (branch sprint-4) https://cleverfit-app.netlify.app/calendar
 - Календарь тренировок служить для отображения и редактирования информации о тренировках пользователя
 - Создание новой тренировки возможно только в будущем!! Пользователь жмет на ячейку в календаре - появляется модальное окно инициирующее начало создания новой тренировки.
 в день может быть только тодна отренировка каждого типа.
 - в тренировку можно добавить сколько угодно упражнений, выбрать количество подходов, вес и количество упражнений
 для сохранениии тренировки после добавления нужных упражнений  нужно нажать кнопку "сохранить изменения".
 - Редактирование тренировки в прошлом возможно только один раз, в будущем - сколько угодно раз
 - различия при работе с мобильным и полноформатным календарем

5) **Профиль** (https://cleverfit-app.netlify.app/profile) и настройки(https://cleverfit-app.netlify.app/settings) (branch sprint-5).

 - Редактирование данных пользователя и смена тарифа.
 - загрузка аватарки в профиле ( доступна загрузка только одной картинки, поменять картинку на другую сервер не дает), загрузка возможна только файлов меньше 5 МБ
 - если пользователь авторизован через OAuth - отображается аватарка google аккаунта
 - в профиле можно поменять имя и фамилию, дату рождения, а так же сменить пароль
 - после успешного изменения данных появляется Alert
 - Страница настроек можно активировать PRO тариф, если он еще не активирован. активация тарифа происходит через письмо пришедщее на e-mail. после отправления запроса на смену тарифа происходит разлогин из приложения
 - если PRO тариф активирован в карточке отображается до какого дня он активирован
 - со страницы настроек можно опубликовать отзыв о приложении(открывается модальное окно), а так же перейти на страницу с отзывами

6) **Страница тренировок** (branch sprint-6) https://cleverfit-app.netlify.app/training

7) **Страница достижений** (branch sprint-7) https://cleverfit-app.netlify.app/achievements
        - страница содержит различные статистические данные о тренировках, упражнениях, нагрузках за период Неделя и Месяц



## Установка Node.js, npm, nvm, Yarn

Эта инструкция предоставляет пошаговое руководство по установке Node.js, npm, nvm (Node Version Manager) и Yarn на вашем компьютере.

#### 1. Установка Node.js с помощью nvm (Node Version Manager)

---

**Windows:**

Скачайте и установите [nvm-windows](https://github.com/coreybutler/nvm-windows).

Откройте терминал (например, Command Prompt или PowerShell) и выполните команду:<br>
`nvm install latest`

---

**macOS:**

Установите nvm через Homebrew:
`brew install nvm`

Добавьте следующую строку в ваш файл ~/.bashrc, ~/.bash_profile или ~/.zshrc:
`export NVM_DIR="$HOME/.nvm" [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"`

Используйте ~/.bash_profile или ~/.zshrc, если у вас есть Zsh.

В новом терминале выполните:
`nvm install node`

---

#### 2. Установка Yarn

Установка через npm (пакетный менеджер Node.js)
`npm install -g yarn`

| Проверьте версии установленных компонентов | Описание                               |
| ------------------------------------------ | -------------------------------------- |
| `node -v`                                  | `Выведет установленную версию Node.js` |
| `npm -v`                                   | `Выведет установленную версию npm`     |
| `nvm -v`                                   | `Выведет установленную версию nvm`     |
| `yarn -v`                                  | `Выведет установленную версию Yarn`    |

---

#### 3. Установка и запуска проекта

| Установка и запуска проекта | Описание                                                                        |
| --------------------------- | ------------------------------------------------------------------------------- |
| `nvm install 20.10.0`       | `Установить версию Node.js 20.10.0 с использованием Node Version Manager (nvm)` |
| `nvm use 20.10.0`           | `Активировать установленную версию Node.js 20.10.0`                             |
| `yarn install`              | `Установить зависимости проекта с помощью Yarn`                                 |
| `yarn start`                | `Запустить проект`                                                              |

---

| Основные команды    | Описание                               |
| ------------------- | -------------------------------------- |
| `yarn start`        | `Запуск проекта`                       |
| `yarn build`        | `Сборка проекта`                       |
| `yarn lint:css`     | `Запуск stylelint для css файлов`      |
| `yarn lint:scripts` | `Запуск eslint для ts(x)/js(x) файлов` |
| `yarn lint`         | `Запуск stylelint и eslint`            |
| `yarn cy:e2e`       | `Запуск e2e тестов cypress`            |

---

#### Прекоммитные проверки

В этом проекте используются прекоммитные проверки, настроенные через [lint-staged](https://classic.yarnpkg.com/en/package/lint-staged). Они автоматически проверяют и форматируют изменения перед коммитом.

**Как это работает:**

[lint-staged](https://classic.yarnpkg.com/en/package/lint-staged) запускает заданные команды только для файлов, добавленных в коммит. Это позволяет автоматически форматировать и проверять только измененные файлы, что помогает поддерживать высокое качество кода в проекте.

Из-за прекоммитных проверок могут возникнуть проблемы при попытке сделать коммит, если ваш код не соответствует установленным правилам форматирования или стилю кода.

**Команды, запускаемые перед коммитом:**

```
"lint-staged": {
    "*.{ts,tsx,js,jsx}": [
        "prettier --write",
        "eslint"
        ],
    "*.json": [
        "prettier --write"
    ],
    "*.css": [
        "prettier --write",
        "stylelint"
    ]
}
```

Эти команды запускаются перед каждым коммитом и проверяют/форматируют файлы с расширениями .ts, .tsx, .js, .jsx, .json и .css с помощью [prettier](https://classic.yarnpkg.com/en/package/prettier), [eslint](https://classic.yarnpkg.com/en/package/eslint) и [stylelint](https://classic.yarnpkg.com/en/package/stylelint).

**Если у вас возникли проблемы** с коммитом из-за прекоммитных проверок, рекомендуется проверить вывод консоли на наличие предупреждений или ошибок, а затем **внести необходимые изменения в соответствии с правилами форматирования и стиля кода**.

---

#### Рекомендации к именам коммитов

-   Названия коммитов следует соблюдать согласно [гайдлайну](https://www.conventionalcommits.org/en/v1.0.0/)
-   Тип коммита может быть только в нижнием регистре (`feat`, `fix`, `refactor`, `docs` и т.д.)
-   Может использоваться present tense ("add feature" not "added feature")
-   Может использоваться imperative mood ("move cursor to..." not "moves cursor to...")

#### Примеры имен коммитов

-   `init:` - используется для начала проекта/таска. Примеры:

```
init: start sprint-1
init: start html-coding task
```

-   `feat:` - это реализованная новая функциональность из технического задания (добавил поддержку зумирования, добавил footer, добавил карточку продукта). Примеры:

```
feat: add basic page layout
feat: implement search box
```

-   `fix:` - исправил ошибку в ранее реализованной функциональности. Примеры:

```
fix: change layout for video items to fix bugs
fix: relayout header for firefox
```

-   `refactor:` - новой функциональности не добавлял / поведения не менял. Файлы в другие места положил, удалил, добавил. Изменил форматирование кода (white-space, formatting, missing semi-colons, etc). Улучшил алгоритм, без изменения функциональности. Примеры:

```
refactor: change the structure of the project
refactor: rename vars for better readability
```

-   `docs:` - используется при работе с документацией/readme проекта. Примеры:

```
docs: update readme with additional information
docs: update description of run() method
```

---
